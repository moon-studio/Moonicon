import{c as Y,a as j}from"./use-config.db5489a2.js";import{o as I,a as w,i as se,t as we}from"./Scrollbar.1d4371da.js";import{r as C,D as Q,w as E,b as q,o as T,i as $,j as Me,F as ge,C as ze,d as V,p as Ie,g as Be,q as le,t as X,a as Ee,h as k,E as Ae,s as Ce}from"./index.2836a3dd.js";import{i as Oe,b as Ze}from"./utils.ddd512d6.js";import{C as Se,A as Xe,B as ue,M as ae,g as O,s as ke}from"./light.8cae089e.js";import{i as Ye}from"./browser.1f370827.js";function Et(n){return Object.keys(n)}const Te=/^(\d|\.)+$/,R=/(\d|\.)+/;function At(n,{c:e=1,offset:t=0,attachPx:r=!0}={}){if(typeof n=="number"){const o=(n+t)*e;return o===0?"0":`${o}px`}else if(typeof n=="string")if(Te.test(n)){const o=(Number(n)+t)*e;return r?o===0?"0":`${o}px`:`${o}`}else{const o=R.exec(n);return o?n.replace(R,String((Number(o[0])+t)*e)):n}return n}function Ve(n){const e=C(!!n.value);if(e.value)return Q(e);const t=E(n,r=>{r&&(e.value=!0,t())});return Q(e)}let B,A;const _e=()=>{var n,e;B=Oe?(e=(n=document)===null||n===void 0?void 0:n.fonts)===null||e===void 0?void 0:e.ready:void 0,A=!1,B!==void 0?B.then(()=>{A=!0}):A=!0};_e();function Fe(n){if(A)return;let e=!1;q(()=>{A||B==null||B.then(()=>{e||n()})}),T(()=>{e=!0})}const Pe=Y("n-internal-select-menu-body"),De=Y("n-modal-body"),Le=Y("n-drawer-body"),je=Y("n-popover-body"),de="__disabled__";function pe(n){const e=$(De,null),t=$(Le,null),r=$(je,null),o=$(Pe,null),a=C();if(typeof document<"u"){a.value=document.fullscreenElement;const d=()=>{a.value=document.fullscreenElement};q(()=>{I("fullscreenchange",document,d)}),T(()=>{w("fullscreenchange",document,d)})}return j(()=>{var d;const{to:h}=n;return h!==void 0?h===!1?de:h===!0?a.value||"body":h:e!=null&&e.value?(d=e.value.$el)!==null&&d!==void 0?d:e.value:t!=null&&t.value?t.value:r!=null&&r.value?r.value:o!=null&&o.value?o.value:h!=null?h:a.value||"body"})}pe.tdkey=de;pe.propTo={type:[String,Object,Boolean],default:void 0};function K(n,e,t="default"){const r=e[t];if(r===void 0)throw new Error(`[vueuc/${n}]: slot[${t}] is empty.`);return r()}function W(n,e=!0,t=[]){return n.forEach(r=>{if(r!==null){if(typeof r!="object"){(typeof r=="string"||typeof r=="number")&&t.push(Me(String(r)));return}if(Array.isArray(r)){W(r,e,t);return}if(r.type===ge){if(r.children===null)return;Array.isArray(r.children)&&W(r.children,e,t)}else r.type!==ze&&t.push(r)}}),t}function ee(n,e,t="default"){const r=e[t];if(r===void 0)throw new Error(`[vueuc/${n}]: slot[${t}] is empty.`);const o=W(r());if(o.length===1)return o[0];throw new Error(`[vueuc/${n}]: slot[${t}] should have exactly one child.`)}let v=null;function fe(){if(v===null&&(v=document.getElementById("v-binder-view-measurer"),v===null)){v=document.createElement("div"),v.id="v-binder-view-measurer";const{style:n}=v;n.position="fixed",n.left="0",n.right="0",n.top="0",n.bottom="0",n.pointerEvents="none",n.visibility="hidden",document.body.appendChild(v)}return v.getBoundingClientRect()}function Ke(n,e){const t=fe();return{top:e,left:n,height:0,width:0,right:t.width-n,bottom:t.height-e}}function P(n){const e=n.getBoundingClientRect(),t=fe();return{left:e.left-t.left,top:e.top-t.top,bottom:t.height+t.top-e.bottom,right:t.width+t.left-e.right,width:e.width,height:e.height}}function We(n){return n.nodeType===9?null:n.parentNode}function he(n){if(n===null)return null;const e=We(n);if(e===null)return null;if(e.nodeType===9)return document;if(e.nodeType===1){const{overflow:t,overflowX:r,overflowY:o}=getComputedStyle(e);if(/(auto|scroll|overlay)/.test(t+o+r))return e}return he(e)}const qe=V({name:"Binder",props:{syncTargetWithParent:Boolean,syncTarget:{type:Boolean,default:!0}},setup(n){var e;Ie("VBinder",(e=Be())===null||e===void 0?void 0:e.proxy);const t=$("VBinder",null),r=C(null),o=s=>{r.value=s,t&&n.syncTargetWithParent&&t.setTargetRef(s)};let a=[];const d=()=>{let s=r.value;for(;s=he(s),s!==null;)a.push(s);for(const x of a)I("scroll",x,y,!0)},h=()=>{for(const s of a)w("scroll",s,y,!0);a=[]},l=new Set,m=s=>{l.size===0&&d(),l.has(s)||l.add(s)},b=s=>{l.has(s)&&l.delete(s),l.size===0&&h()},y=()=>{Ze(i)},i=()=>{l.forEach(s=>s())},u=new Set,f=s=>{u.size===0&&I("resize",window,c),u.has(s)||u.add(s)},p=s=>{u.has(s)&&u.delete(s),u.size===0&&w("resize",window,c)},c=()=>{u.forEach(s=>s())};return T(()=>{w("resize",window,c),h()}),{targetRef:r,setTargetRef:o,addScrollListener:m,removeScrollListener:b,addResizeListener:f,removeResizeListener:p}},render(){return K("binder",this.$slots)}}),Ct=qe,Ot=V({name:"Target",setup(){const{setTargetRef:n,syncTarget:e}=$("VBinder");return{syncTarget:e,setTargetDirective:{mounted:n,updated:n}}},render(){const{syncTarget:n,setTargetDirective:e}=this;return n?le(ee("follower",this.$slots),[[e]]):ee("follower",this.$slots)}}),g="@@coContext",Ne={mounted(n,{value:e,modifiers:t}){n[g]={handler:void 0},typeof e=="function"&&(n[g].handler=e,I("clickoutside",n,e,{capture:t.capture}))},updated(n,{value:e,modifiers:t}){const r=n[g];typeof e=="function"?r.handler?r.handler!==e&&(w("clickoutside",n,r.handler,{capture:t.capture}),r.handler=e,I("clickoutside",n,e,{capture:t.capture})):(n[g].handler=e,I("clickoutside",n,e,{capture:t.capture})):r.handler&&(w("clickoutside",n,r.handler,{capture:t.capture}),r.handler=void 0)},unmounted(n,{modifiers:e}){const{handler:t}=n[g];t&&w("clickoutside",n,t,{capture:e.capture}),n[g].handler=void 0}},Zt=Ne;function Ue(n,e){console.error(`[vdirs/${n}]: ${e}`)}class Ge{constructor(){this.elementZIndex=new Map,this.nextZIndex=2e3}get elementCount(){return this.elementZIndex.size}ensureZIndex(e,t){const{elementZIndex:r}=this;if(t!==void 0){e.style.zIndex=`${t}`,r.delete(e);return}const{nextZIndex:o}=this;r.has(e)&&r.get(e)+1===this.nextZIndex||(e.style.zIndex=`${o}`,r.set(e,o),this.nextZIndex=o+1,this.squashState())}unregister(e,t){const{elementZIndex:r}=this;r.has(e)?r.delete(e):t===void 0&&Ue("z-index-manager/unregister-element","Element not found when unregistering."),this.squashState()}squashState(){const{elementCount:e}=this;e||(this.nextZIndex=2e3),this.nextZIndex-e>2500&&this.rearrange()}rearrange(){const e=Array.from(this.elementZIndex.entries());e.sort((t,r)=>t[1]-r[1]),this.nextZIndex=2e3,e.forEach(t=>{const r=t[0],o=this.nextZIndex++;`${o}`!==r.style.zIndex&&(r.style.zIndex=`${o}`)})}}const D=new Ge,z="@@ziContext",He={mounted(n,e){const{value:t={}}=e,{zIndex:r,enabled:o}=t;n[z]={enabled:!!o,initialized:!1},o&&(D.ensureZIndex(n,r),n[z].initialized=!0)},updated(n,e){const{value:t={}}=e,{zIndex:r,enabled:o}=t,a=n[z].enabled;o&&!a&&(D.ensureZIndex(n,r),n[z].initialized=!0),n[z].enabled=!!o},unmounted(n,e){if(!n[z].initialized)return;const{value:t={}}=e,{zIndex:r}=t;D.unregister(n,r)}},Je=He,{c:Z}=Se(),Qe="vueuc-style",Re=V({name:"LazyTeleport",props:{to:{type:[String,Object],default:void 0},disabled:Boolean,show:{type:Boolean,required:!0}},setup(n){return{showTeleport:Ve(X(n,"show")),mergedTo:Ee(()=>{const{to:e}=n;return e!=null?e:"body"})}},render(){return this.showTeleport?this.disabled?K("lazy-teleport",this.$slots):k(Ae,{disabled:this.disabled,to:this.mergedTo},K("lazy-teleport",this.$slots)):null}}),S={top:"bottom",bottom:"top",left:"right",right:"left"},te={start:"end",center:"center",end:"start"},L={top:"height",bottom:"height",left:"width",right:"width"},et={"bottom-start":"top left",bottom:"top center","bottom-end":"top right","top-start":"bottom left",top:"bottom center","top-end":"bottom right","right-start":"top left",right:"center left","right-end":"bottom left","left-start":"top right",left:"center right","left-end":"bottom right"},tt={"bottom-start":"bottom left",bottom:"bottom center","bottom-end":"bottom right","top-start":"top left",top:"top center","top-end":"top right","right-start":"top right",right:"center right","right-end":"bottom right","left-start":"top left",left:"center left","left-end":"bottom left"},nt={"bottom-start":"right","bottom-end":"left","top-start":"right","top-end":"left","right-start":"bottom","right-end":"top","left-start":"bottom","left-end":"top"},ne={top:!0,bottom:!1,left:!0,right:!1},re={top:"end",bottom:"start",left:"end",right:"start"};function rt(n,e,t,r,o,a){if(!o||a)return{placement:n,top:0,left:0};const[d,h]=n.split("-");let l=h!=null?h:"center",m={top:0,left:0};const b=(u,f,p)=>{let c=0,s=0;const x=t[u]-e[f]-e[u];return x>0&&r&&(p?s=ne[f]?x:-x:c=ne[f]?x:-x),{left:c,top:s}},y=d==="left"||d==="right";if(l!=="center"){const u=nt[n],f=S[u],p=L[u];if(t[p]>e[p]){if(e[u]+e[p]<t[p]){const c=(t[p]-e[p])/2;e[u]<c||e[f]<c?e[u]<e[f]?(l=te[h],m=b(p,f,y)):m=b(p,u,y):l="center"}}else t[p]<e[p]&&e[f]<0&&e[u]>e[f]&&(l=te[h])}else{const u=d==="bottom"||d==="top"?"left":"top",f=S[u],p=L[u],c=(t[p]-e[p])/2;(e[u]<c||e[f]<c)&&(e[u]>e[f]?(l=re[u],m=b(p,u,y)):(l=re[f],m=b(p,f,y)))}let i=d;return e[d]<t[L[d]]&&e[d]<e[S[d]]&&(i=S[d]),{placement:l!=="center"?`${i}-${l}`:i,left:m.left,top:m.top}}function ot(n,e){return e?tt[n]:et[n]}function it(n,e,t,r,o,a){if(a)switch(n){case"bottom-start":return{top:`${Math.round(t.top-e.top+t.height)}px`,left:`${Math.round(t.left-e.left)}px`,transform:"translateY(-100%)"};case"bottom-end":return{top:`${Math.round(t.top-e.top+t.height)}px`,left:`${Math.round(t.left-e.left+t.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top-start":return{top:`${Math.round(t.top-e.top)}px`,left:`${Math.round(t.left-e.left)}px`,transform:""};case"top-end":return{top:`${Math.round(t.top-e.top)}px`,left:`${Math.round(t.left-e.left+t.width)}px`,transform:"translateX(-100%)"};case"right-start":return{top:`${Math.round(t.top-e.top)}px`,left:`${Math.round(t.left-e.left+t.width)}px`,transform:"translateX(-100%)"};case"right-end":return{top:`${Math.round(t.top-e.top+t.height)}px`,left:`${Math.round(t.left-e.left+t.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"left-start":return{top:`${Math.round(t.top-e.top)}px`,left:`${Math.round(t.left-e.left)}px`,transform:""};case"left-end":return{top:`${Math.round(t.top-e.top+t.height)}px`,left:`${Math.round(t.left-e.left)}px`,transform:"translateY(-100%)"};case"top":return{top:`${Math.round(t.top-e.top)}px`,left:`${Math.round(t.left-e.left+t.width/2)}px`,transform:"translateX(-50%)"};case"right":return{top:`${Math.round(t.top-e.top+t.height/2)}px`,left:`${Math.round(t.left-e.left+t.width)}px`,transform:"translateX(-100%) translateY(-50%)"};case"left":return{top:`${Math.round(t.top-e.top+t.height/2)}px`,left:`${Math.round(t.left-e.left)}px`,transform:"translateY(-50%)"};case"bottom":default:return{top:`${Math.round(t.top-e.top+t.height)}px`,left:`${Math.round(t.left-e.left+t.width/2)}px`,transform:"translateX(-50%) translateY(-100%)"}}switch(n){case"bottom-start":return{top:`${Math.round(t.top-e.top+t.height+r)}px`,left:`${Math.round(t.left-e.left+o)}px`,transform:""};case"bottom-end":return{top:`${Math.round(t.top-e.top+t.height+r)}px`,left:`${Math.round(t.left-e.left+t.width+o)}px`,transform:"translateX(-100%)"};case"top-start":return{top:`${Math.round(t.top-e.top+r)}px`,left:`${Math.round(t.left-e.left+o)}px`,transform:"translateY(-100%)"};case"top-end":return{top:`${Math.round(t.top-e.top+r)}px`,left:`${Math.round(t.left-e.left+t.width+o)}px`,transform:"translateX(-100%) translateY(-100%)"};case"right-start":return{top:`${Math.round(t.top-e.top+r)}px`,left:`${Math.round(t.left-e.left+t.width+o)}px`,transform:""};case"right-end":return{top:`${Math.round(t.top-e.top+t.height+r)}px`,left:`${Math.round(t.left-e.left+t.width+o)}px`,transform:"translateY(-100%)"};case"left-start":return{top:`${Math.round(t.top-e.top+r)}px`,left:`${Math.round(t.left-e.left+o)}px`,transform:"translateX(-100%)"};case"left-end":return{top:`${Math.round(t.top-e.top+t.height+r)}px`,left:`${Math.round(t.left-e.left+o)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top":return{top:`${Math.round(t.top-e.top+r)}px`,left:`${Math.round(t.left-e.left+t.width/2+o)}px`,transform:"translateY(-100%) translateX(-50%)"};case"right":return{top:`${Math.round(t.top-e.top+t.height/2+r)}px`,left:`${Math.round(t.left-e.left+t.width+o)}px`,transform:"translateY(-50%)"};case"left":return{top:`${Math.round(t.top-e.top+t.height/2+r)}px`,left:`${Math.round(t.left-e.left+o)}px`,transform:"translateY(-50%) translateX(-100%)"};case"bottom":default:return{top:`${Math.round(t.top-e.top+t.height+r)}px`,left:`${Math.round(t.left-e.left+t.width/2+o)}px`,transform:"translateX(-50%)"}}}const st=Z([Z(".v-binder-follower-container",{position:"absolute",left:"0",right:"0",top:"0",height:"0",pointerEvents:"none",zIndex:"auto"}),Z(".v-binder-follower-content",{position:"absolute",zIndex:"auto"},[Z("> *",{pointerEvents:"all"})])]),St=V({name:"Follower",inheritAttrs:!1,props:{show:Boolean,enabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom"},syncTrigger:{type:Array,default:["resize","scroll"]},to:[String,Object],flip:{type:Boolean,default:!0},internalShift:Boolean,x:Number,y:Number,width:String,minWidth:String,containerClass:String,teleportDisabled:Boolean,zindexable:{type:Boolean,default:!0},zIndex:Number,overlap:Boolean},setup(n){const e=$("VBinder"),t=j(()=>n.enabled!==void 0?n.enabled:n.show),r=C(null),o=C(null),a=()=>{const{syncTrigger:i}=n;i.includes("scroll")&&e.addScrollListener(l),i.includes("resize")&&e.addResizeListener(l)},d=()=>{e.removeScrollListener(l),e.removeResizeListener(l)};q(()=>{t.value&&(l(),a())});const h=Xe();st.mount({id:"vueuc/binder",head:!0,anchorMetaName:Qe,ssr:h}),T(()=>{d()}),Fe(()=>{t.value&&l()});const l=()=>{if(!t.value)return;const i=r.value;if(i===null)return;const u=e.targetRef,{x:f,y:p,overlap:c}=n,s=f!==void 0&&p!==void 0?Ke(f,p):P(u);i.style.setProperty("--v-target-width",`${Math.round(s.width)}px`),i.style.setProperty("--v-target-height",`${Math.round(s.height)}px`);const{width:x,minWidth:_,placement:U,internalShift:ce,flip:me}=n;i.setAttribute("v-placement",U),c?i.setAttribute("v-overlap",""):i.removeAttribute("v-overlap");const{style:M}=i;x==="target"?M.width=`${s.width}px`:x!==void 0?M.width=x:M.width="",_==="target"?M.minWidth=`${s.width}px`:_!==void 0?M.minWidth=_:M.minWidth="";const xe=P(i),ye=P(o.value),{left:G,top:H,placement:F}=rt(U,s,xe,ce,me,c),J=ot(F,c),{left:be,top:ve,transform:$e}=it(F,ye,s,H,G,c);i.setAttribute("v-placement",F),i.style.setProperty("--v-offset-left",`${Math.round(G)}px`),i.style.setProperty("--v-offset-top",`${Math.round(H)}px`),i.style.transform=`translateX(${be}) translateY(${ve}) ${$e}`,i.style.setProperty("--v-transform-origin",J),i.style.transformOrigin=J};E(t,i=>{i?(a(),m()):d()});const m=()=>{Ce().then(l).catch(i=>console.error(i))};["placement","x","y","internalShift","flip","width","overlap","minWidth"].forEach(i=>{E(X(n,i),l)}),["teleportDisabled"].forEach(i=>{E(X(n,i),m)}),E(X(n,"syncTrigger"),i=>{i.includes("resize")?e.addResizeListener(l):e.removeResizeListener(l),i.includes("scroll")?e.addScrollListener(l):e.removeScrollListener(l)});const b=Ye(),y=j(()=>{const{to:i}=n;if(i!==void 0)return i;b.value});return{VBinder:e,mergedEnabled:t,offsetContainerRef:o,followerRef:r,mergedTo:y,syncPosition:l}},render(){return k(Re,{show:this.show,to:this.mergedTo,disabled:this.teleportDisabled},{default:()=>{var n,e;const t=k("div",{class:["v-binder-follower-container",this.containerClass],ref:"offsetContainerRef"},[k("div",{class:"v-binder-follower-content",ref:"followerRef"},(e=(n=this.$slots).default)===null||e===void 0?void 0:e.call(n))]);return this.zindexable?le(t,[[Je,{enabled:this.mergedEnabled,zIndex:this.zIndex}]]):t}})}});var lt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ut=/^\w*$/;function at(n,e){if(ue(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||se(n)?!0:ut.test(n)||!lt.test(n)||e!=null&&n in Object(e)}var dt="Expected a function";function N(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(dt);var t=function(){var r=arguments,o=e?e.apply(this,r):r[0],a=t.cache;if(a.has(o))return a.get(o);var d=n.apply(this,r);return t.cache=a.set(o,d)||a,d};return t.cache=new(N.Cache||ae),t}N.Cache=ae;var pt=500;function ft(n){var e=N(n,function(r){return t.size===pt&&t.clear(),r}),t=e.cache;return e}var ht=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ct=/\\(\\)?/g,mt=ft(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(ht,function(t,r,o,a){e.push(o?a.replace(ct,"$1"):r||t)}),e});const xt=mt;function yt(n,e){return ue(n)?n:at(n,e)?[n]:xt(we(n))}var bt=1/0;function vt(n){if(typeof n=="string"||se(n))return n;var e=n+"";return e=="0"&&1/n==-bt?"-0":e}function $t(n,e){e=yt(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[vt(e[t++])];return t&&t==r?n:void 0}function Xt(n,e,t){var r=n==null?void 0:$t(n,e);return r===void 0?t:r}const{cubicBezierEaseIn:oe,cubicBezierEaseOut:ie}=ke;function kt({transformOrigin:n="inherit",duration:e=".2s",enterScale:t=".9",originalTransform:r="",originalTransition:o=""}={}){return[O("&.fade-in-scale-up-transition-leave-active",{transformOrigin:n,transition:`opacity ${e} ${oe}, transform ${e} ${oe} ${o&&","+o}`}),O("&.fade-in-scale-up-transition-enter-active",{transformOrigin:n,transition:`opacity ${e} ${ie}, transform ${e} ${ie} ${o&&","+o}`}),O("&.fade-in-scale-up-transition-enter-from, &.fade-in-scale-up-transition-leave-to",{opacity:0,transform:`${r} scale(${t})`}),O("&.fade-in-scale-up-transition-leave-from, &.fade-in-scale-up-transition-enter-to",{opacity:1,transform:`${r} scale(1)`})]}export{Ct as V,Ot as a,St as b,Zt as c,At as d,yt as e,kt as f,Xt as g,$t as h,at as i,Le as j,Et as k,De as m,je as p,vt as t,pe as u,Je as z};
